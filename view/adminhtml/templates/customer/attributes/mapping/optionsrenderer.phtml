<?php
/**
 * IntegraCommerce Platform | B2W - Companhia Digital
 *
 * Do not edit this file if you want to update this module for future new versions.
 *
 * @category  IntegraCommerce
 * @package   Mycostum_IntegraCommerce
 *
 * @copyright Copyright (c) 2018 B2W Digital - IntegraCommerce Platform.
 *
 * Access https://ajuda.integracommerce.com.br/hc/pt-br/requests/new for questions and other requests.
 */

$mappingAttributes = $this->getSubMappingAttributeOptions();
if (!$mappingAttributes) {
    return;
}
?>

<table>
    <tbody>
    <?php foreach ($this->getSubMappingAttributeOptions() as $mappingItem) { ?>
        <tr>
            <td>
                <?php echo $mappingItem['integracommerce_label']?>
            </td>
            <td>
                <?php
                $magentoAttribute = $this->getMagentoAttribute();
                $isSelectAttribute = ($magentoAttribute->usesSource());
                if ($isSelectAttribute): ?>
                    <select name="attributes_mapping_options[<?php echo $mappingItem->getIntegracommerceCode() ?>]">
                        <?php foreach ($this->getMagentoAttributeOptions() as $magentoItem) { ?>
                            <option value="<?php echo $magentoItem['value'] ?>" <?php echo($magentoItem['value'] == $mappingItem->getMagentoValue() ? 'selected' : '') ?>><?php echo $magentoItem['label'] ?></option>
                        <?php } ?>
                    </select>
                <?php else: ?>
                    <input type="text" name="attributes_mapping_options[<?php echo $mappingItem->getIntegracommerceCode() ?>]"
                           value="<?php echo $mappingItem->getMagentoValue() ?>"/>
                <?php endif; ?>
            </td>
        </tr>
    <?php } ?>
    </tbody>
</table>